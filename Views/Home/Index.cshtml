@using Microsoft.AspNet.Identity
@{
    ViewBag.Title = "Home Page";
}
@{int x=0;
    int y=0; }
<div class="jumbotron">
    <h4>CS:GO Bangladesh Public Server Stats</h4>
   
    <table class="table table-striped table-bordered">
    <thead>
        <tr>
        <th>Server ID</th>
        <th>Server</th>
        <th>Address</th>
        <th>Players</th>
        <th>Map</th>
            
        
        </tr>
        </thead>
    <tbody>
        
      

            @if (ViewData["livestat"] != null)
            {

                foreach (var item in (ViewData["livestat"] as List<QueryMaster.ServerInfo>))
                {
                <tr>
                    <td>@item.Extra.SteamID.ToString()</td>
                    <td>@item.Name.ToString()</td>
                    <td>@item.Address.ToString()</td>      
                    <td>@item.Players.ToString() / @item.MaxPlayers.ToString()</td>
                    <td>@item.Map.ToString()</td>
                      @{x = x + item.Players - Convert.ToInt32(item.Bots);
                          y = y + item.MaxPlayers;
                      }
                </tr>

                          }
                          foreach (var item in (ViewData["livestat1"] as List<QueryMaster.ServerInfo>))
                          {
                            <tr>
                                <td>@item.Extra.SteamID.ToString()</td>
                                <td>@item.Name.ToString()</td>
                                <td>@item.Address.ToString()</td>
                                <td>@item.Players.ToString() / @item.MaxPlayers.ToString()</td>
                                <td>@item.Map.ToString()</td>
                                @{x = x + item.Players - Convert.ToInt32(item.Bots);
                                    y = y + item.MaxPlayers;
                                }
                            </tr>

                                    }
                                    foreach (var item in (ViewData["livestat2"] as List<QueryMaster.ServerInfo>))
                                    {
                                        <tr>
                                            <td>@item.Extra.SteamID.ToString()</td>
                                            <td>@item.Name.ToString()</td>
                                            <td>@item.Address.ToString()</td>
                                            <td>@item.Players.ToString() / @item.MaxPlayers.ToString()</td>
                                            <td>@item.Map.ToString()</td>
                                            @{x = x + item.Players - Convert.ToInt32(item.Bots);
                                                y = y + item.MaxPlayers;
                                            }
                                        </tr>

                                                }
                                                foreach (var item in (ViewData["livestat3"] as List<QueryMaster.ServerInfo>))
                                                {
                                                    <tr>
                                                        <td>@item.Extra.SteamID.ToString()</td>
                                                        <td>@item.Name.ToString()</td>
                                                        <td>@item.Address.ToString()</td>
                                                        <td>@item.Players.ToString() / @item.MaxPlayers.ToString()</td>
                                                        <td>@item.Map.ToString()</td>
                                                        @{x = x + item.Players - Convert.ToInt32(item.Bots);
                                                            y = y + item.MaxPlayers;
                                                        }
                                                    </tr>

                                                            }
                                                         
                              <tr><td></td>
        <td></td>
                                  <td>Total Players</td>
        <td>@x / @y</td>
        <td></td>
        </tr>
                }

            

            @*foreach (System.Data.DataRow dr in (ViewData["livestat"] as System.Data.DataTable).Rows)
            {
        <tr>
        <td>@dr["serverId"]</td>
        <td>@dr["name"]</td>
        <td>@dr["addr"]</td>
        <td>@dr["kills"]</td>
        <td>@dr["headshots"]</td>
        <td>@dr["act_players"]/@dr["max_players"]</td>
        <td>@dr["act_map"]</td>
         

        </tr>
            }*@
        
        </tbody>
    </table>
    
</div>

